{% extends "base.html" %}

{% block title %}{{ owner }}'s Tasks{% endblock %}

{% block content %}
<h2>{{ owner }}'s Tasks ({{ tasks|length }})</h2>

{% if tasks %}
    {% for task in tasks %}
    <div class="task {% if task.due_date and 'today' in task.due_date %}due-today{% endif %}">
        <div class="task-title">
            #{{ task.id }} - {{ task.title }}
        </div>
        <div class="task-meta">
            {% if task.due_date %}
            <span><strong>Due:</strong> {{ task.due_date }}</span>
            {% endif %}
            {% if task.next_step %}
            <span><strong>Next:</strong> {{ task.next_step }}</span>
            {% endif %}
        </div>
        <div class="task-actions">
            <a href="/task/{{ task.id }}" class="btn">View Details</a>
            <a href="/markDone/{{ task.id }}" class="btn btn-secondary">Mark Done</a>
        </div>
    </div>
    {% endfor %}
{% else %}
    <div class="empty">
        <p>No tasks assigned to {{ owner }}! ðŸŽ‰</p>
    </div>
{% endif %}
{% endblock %}
